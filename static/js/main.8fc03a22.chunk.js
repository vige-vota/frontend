(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{102:function(e){e.exports=JSON.parse('{"app.confirm":"Conferma","app.cancel":"Annulla","app.delete":"Rimuovi","app.insert":"Inserisci","app.update":"Aggiorna","app.confirm.header":"Conferma il voto","app.confirm.body":"Cliccando su \'Si\' confermerai l\'invio dei dati. Una volta confermato non potrai pi\xf9 tornare indietro. Confermi il salvataggio?","app.confirm.ins.header":"Conferma l\'aggiornamento","app.confirm.ins.body":"Cliccando su \'Si\' confermerai l\'invio dei dati. Confermi il salvataggio?","app.confirm.party":"partito","app.confirm.group":"coalizione","app.confirm.candidate":"candidato","app.confirm.norecordsfound":"Scheda bianca","app.confirm.confirmedheader":"Il tuo voto \xe8 stato confermato!","app.confirm.confirmedbody":"Il tuo voto \xe8 stato inviato con successo. A breve verranno mostrati i risultati. Ti ringraziamo per la tua partecipazione","app.configuration.header":"Configura la scheda","app.configuration.headerparty":"Configura il partito","app.configuration.headergroup":"Configura la coalizione","app.configuration.headercandidates":"Gestione dei candidati","app.configuration.headerinsertparty":"Inserisci il partito","app.configuration.headerinsertgroup":"Inserisci la coalizione","app.configuration.name":"Nome","app.configuration.namesurname":"Nome e cognome","app.configuration.gender":"Sesso","app.configuration.title":"Titolo","app.configuration.chooseimage":"Scegli l\'Immagine","app.configuration.disjointed":"Voto disgiunto","app.configuration.maxcandidates":"Numero di candidati","app.configuration.zone":"Zona","app.configuration.choose.zone":"Scegli la zona","app.configuration.color":"Colore della scheda","app.configuration.templateslabel":"Tipo di scheda","app.configuration.insert.header":"Aggiungi la scheda","app.yes":"Si","app.no":"No","app.error":"Errore","app.error.candidate":"la candidatura di","app.error.party":"il partito","app.error.group":"la coalizione","app.error.message":"Non \xe8 possibile selezionare {type} {value}","app.admin.error.name":"Il nome della scheda \xe8 obbligatorio","app.admin.error.zone":"La zona \xe8 obbligatoria","app.admin.error.maxname":"Puoi specificare un numero massimo di {number} caratteri per il nome","app.admin.error.existingname":"Il nome della scheda esiste gi\xe0","app.admin.error.party.name":"Il nome del partito \xe8 obbligatorio","app.admin.error.group.name":"Il nome della coalizione \xe8 obbligatorio","app.admin.error.candidate.name":"Il nome del candidato \xe8 obbligatorio","app.admin.error.candidate.sex":"Il sesso del candidato \xe8 obbligatorio","app.admin.error.candidate.existingname":"Il nome del candidato esiste gi\xe0","app.admin.error.candidate.existingimage":"L\'immagine del candidato esiste gi\xe0","app.admin.error.candidate.casename":"Il nome e cognome del candidato devono iniziare con la lettera maiuscola e terminare con le lettere minuscole","app.admin.error.candidate.surname":"Inserire sia nome che cognome","app.admin.error.style":"Lo stile della scheda \xe8 obbligatorio","app.admin.error.disjointed":"Prima di modificare il voto disgiunto devi rimuovere tutte le selezioni effettuate sulla scheda \'{name}\'","app.admin.error.file.summary":"{0}: Dimensione non valida, ","app.admin.error.file.detail":"la dimensione massima \xe8 {0}.","app.admin.error.littlenogroup":"Non \xe8 possibile passare da un tipo di scheda a partito ad un tipo a coalizione o viceversa. Rimuovere e ricreare la scheda","app.admin.error.zonebigger":"La scheda deve avere la zona"}')},112:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var i,n,s,r=a(0),o=a.n(r),c=a(16),p=a.n(c),l=(a(112),a(7)),d=a(8),u=a(4),f=a(11),m=a(10),h=a(20),g=a(6),b=a(91),v=a(44),j=a(192),y=a(92),x=a.n(y),O=a(45),k=a.n(O),C=new x.a({clientId:"frontend",realm:"vota-domain",url:"http://vota-auth.vige.it:8480/auth"}),P=k.a.create({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),S=C.login,N=C.logout,w=function(){return C.token},M={initKeycloak:function(e){C.init({onLoad:"check-sso",silentCheckSsoRedirectUri:window.location.origin+"/silent-check-sso.html",pkceMethod:"S256"}).then((function(t){t?(P.defaults.headers.common.Authorization="Bearer "+w(),e()):(console.warn("not authenticated!"),S())}))},doLogin:S,doLogout:N,getToken:w,updateToken:function(e){return C.updateToken(5).then(e).catch(S)},getUsername:function(){return C.tokenParsed.preferred_username},axiosInstance:P,getProfile:function(){return C.loadUserProfile()},getRoles:function(){return C.realmAccess.roles}},I=a(2),E=function(e,t){for(;null!==e;){if(e.id===t)return!0;e=Y(e)}return!1},z=function e(t,a){if(t.id===a)return!0;var i=t.groups,n=t.parties,s=t.candidates;if(i)for(var r=0;r<i.length;r++)return e(i[r],a);else if(n)for(var o=0;o<n.length;o++)return e(n[o],a);else if(s)for(var c=0;c<s.length;c++)return e(s[c],a);return!1},T=function e(t){var a=Y(t);return null!=a?e(a):t},_=function(e){var t="";return e&&$e.votingPapers.forEach((function(a){t=H(e,a)})),t},H=function(e,t){var a="";return e&&(t.id===e&&(a=t),t.groups&&t.groups.forEach((function(t){t.id===e&&(a=t),t.parties&&t.parties.forEach((function(t){t.id===e&&(a=t),t.candidates&&t.candidates.forEach((function(t){t.id===e&&(a=t)}))}))}))),a},R=function(e){var t=Y(e);return null!=t&&t.parties},U=function(e){var t=Y(e);return null!=t&&t.groups},L=function(e){var t=Y(e);return null!=t&&t.candidates},A=function e(t,a){0===a.filter((function(e){return e===t})).length&&a.push(t);var i=Y(t);!i.votingPaper||U(i)&&i.votingPaper.disjointed||e(i,a)},D=function(e,t,a){var i=a.slice(0,t),n=a.slice(t);return i.concat(e,n)},B=function(){var e=-$e.nextId;return $e.nextId++,e},F=function(e){return p.a.findDOMNode(e).querySelectorAll(".p-menuitem-link")},G=function(e){var t=F(e);return $e&&$e.votingPapers.forEach((function(e,a){t[a].className.includes(e.type)||(t[a].className=t[a].className+" App-"+e.id+" "+e.type),t[a].style.setProperty("background-color","#"+e.color),t[a].style.setProperty("border-color","#"+e.color)})),t},W=function(e,t){var a=t.state.items.map((function(e){return e.id})).indexOf(e.id);if(t.state.activeItem.id===e.id){var i=F(t);0!==a?i[0].click():i[1].click()}t.state.items.splice(a,1),$e.votingPapers.splice(a,1),t.forceUpdate()},V=function e(t,a){if(0===a.filter((function(e){return Y(e)===t})).length||U(t)&&t.votingPaper.disjointed){var i=a.indexOf(t);a.splice(i,1);var n=Y(t);!n.votingPaper||U(n)&&n.votingPaper.disjointed||n.selected||L(t)&&0!==a.filter((function(e){return L(e)&&Y(e)===n})).length||e(n,a)}},Y=function(e){var t=null;return $e.votingPapers.forEach((function(a){a!==e&&(a.groups?a.groups.forEach((function(i){i===e?t=a:i.parties&&i.parties.forEach((function(a){a===e?t=i:a.candidates&&a.candidates.forEach((function(i){i===e&&(t=a)}))}))})):a.parties&&a.parties.forEach((function(i){i===e?t=a:i.candidates&&i.candidates.forEach((function(a){a===e&&(t=i)}))})))})),t},J=function(e,t){var a=new FileReader;a.onload=function(){t.setState({image:a.result.replace(/^data:.+;base64,/,"")}),t.forceUpdate()};var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status&&a.readAsDataURL(this.response)},i.send()},q=function(e){for(var t="image/jpeg",a=atob(e.image),i=new Array(a.length),n=0;n<a.length;n++)i[n]=a.charCodeAt(n);var s=new Uint8Array(i),r=new Blob([s],{type:t});return new File([r],e.name,{type:t})},K="M",X="F",Z=function(e){var t=e.value.votingPaper,a=Q.filter((function(e){return e.votingPaper===t}));if(e.value.type===Ce){var n=a.filter((function(e){return e.type===Ce}));return!!(e.value.selected||n.length<1||1===n.filter((function(t){return t===e.value})).length)||(i({name:e.value.name,type:Object(I.jsx)(j.a,{id:"app.error.group",defaultMessage:"the "+Ce})}),!1)}if(e.value.type===Pe){var s=Y(e.value),r=a.filter((function(e){return Y(e)===s&&e.type===Pe})),o=a.map((function(e){return e.type===Pe?Y(e):null})).filter((function(e,t,a){return a.indexOf(e)===t&&e})),c=a.filter((function(t){return t.type===ae&&Y(t)===e.value})).length>0;return!!(e.value.selected||c||r.length<1&&o.length<1&&(t.disjointed||a.filter((function(e){return e===s})).length>0||0===a.length))||(i({name:e.value.name,type:Object(I.jsx)(j.a,{id:"app.error.party",defaultMessage:"the "+Pe})}),!1)}var p=Y(e.value),l=a.filter((function(e){return e.type===ae})).filter((function(e){return Y(e)===p})),d=a.filter((function(e){return e.type===Pe})),u=d.filter((function(t){return t===Y(e.value)})),f=d.filter((function(t){return t!==Y(e.value)})),m=a.filter((function(e){return e===p||e===Y(p)}));return!(!(!t.disjointed&&(m.length>0||0===a.length)||t.disjointed&&(1===u.length||0===f.length))||!$(l,e.value))||(i({name:e.value.name,type:Object(I.jsx)(j.a,{id:"app.error.candidate",defaultMessage:"the "+ae})}),!1)},$=function(e,t){var a=0,i=0,n=e.filter((function(e){return e!==t})),s=n.length;return t.selected||(t.sex===K&&a++,t.sex===X&&i++,s++),n.forEach((function(e){e.sex===K&&a++,e.sex===X&&i++})),Math.round(s/2)>=a&&Math.round(s/2)>=i},Q=[],ee=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),e=t.call(this),i=e.errors.bind(Object(u.a)(e)),e}return Object(d.a)(a,[{key:"errors",value:function(e){var t={severity:"error",summary:Object(I.jsx)(j.a,{id:"app.error",defaultMessage:"Error"}),detail:Object(I.jsx)(j.a,{id:"app.error.message",defaultMessage:"Unable to select {type} {value}",values:{type:e.type,value:e.name}})};this.growl.show(t)}},{key:"render",value:function(){var e=this;return Object(I.jsx)(v.a,{ref:function(t){return e.growl=t}})}}]),a}(r.Component),te=(a(138)," _________________________"),ae="candidate",ie=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={filteredCandidates:null},e.filterCandidates=e.filterCandidates.bind(Object(u.a)(e)),e.chosenCandidates=[],e}return Object(d.a)(a,[{key:"filterCandidates",value:function(e){var t=this;setTimeout((function(){var a;a=0===e.query.length?t.props.config.filter((function(e){return!t.chosenCandidates.find((function(t){return t===e.name}))})):t.props.config.filter((function(a){return!t.chosenCandidates.find((function(e){return e===a.name}))&&a.name.toLowerCase().startsWith(e.query.toLowerCase())})),t.setState({filteredCandidates:a})}),250)}},{key:"itemTemplate",value:function(e){var t;return e.type=ae,e.votingPaper=T(e),e.image&&(t=Object(I.jsx)("img",{className:"excludeSelect",alt:e.name,src:"data:image/jpeg;base64,".concat(e.image),style:{width:"32px",display:"inline-block",margin:"5px 0 2px 5px"}})),Object(I.jsxs)("div",{className:"p-clearfix excludeSelect",children:[t,Object(I.jsx)("div",{className:"excludeSelect",style:{fontSize:"16px"},children:e.name})]})}},{key:"onDropdownClick",value:function(e,t){this.refs["autocomplete-candidate-"+t].onDropdownClick(e),e.stopPropagation()}},{key:"onUnselect",value:function(e,t){if(8===e.nativeEvent.keyCode&&n.selected){this.setState((function(){var e={};return e[ae+t]=n.name,e}))}}},{key:"onAutocompleteChange",value:function(e,t){var a=e.value.name;e.value.id&&(Z(e)?(A(e.value,Q),e.value.selected=!0):a=te);var i=this.state[ae+t];if(i&&(n=this.props.config.filter((function(e){return e.name===i}))[0])&&Z({value:n})){var s=this.chosenCandidates.indexOf(i);this.chosenCandidates.splice(s,1),this.props.config.forEach((function(e){e.name===i&&(e.selected=!1,V(e,Q))}))}this.setState((function(){var e={};return e[ae+t]=a,this.chosenCandidates.push(a),e}))}},{key:"render",value:function(){var e=this,t=[];if(this.props.config.length>0)for(var a=function(a){t.push(Object(I.jsx)(b.a,{className:"excludeSelect",ref:"autocomplete-"+ae+"-"+a,value:e.state[ae+a],suggestions:e.state.filteredCandidates,completeMethod:e.filterCandidates,size:30,minLength:1,placeholder:a+1+te,itemTemplate:e.itemTemplate.bind(e),selectedItemTemplate:function(e){return a+1+" "+e},onClick:function(t){e.onDropdownClick(t,a)},onChange:function(t){return e.onAutocompleteChange(t,a)},onKeyUp:function(t){return e.onUnselect(t,a)}},"autocomplete-"+ae+"-"+a))},i=0;i<this.props.maxcandidates;i++)a(i);return Object(I.jsx)("div",{className:"candidates",children:t})}}]),a}(r.Component),ne=a(60),se=a.n(ne),re=(a(139),a(26)),oe=a(19),ce=(a(53),a(140),a(37)),pe=a(24),le=a(49),de=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"onFileSelect",value:function(e){Object(ce.a)(Object(pe.a)(a.prototype),"onFileSelect",this).call(this,e),this.state.files.length>1&&this.state.files.shift()}},{key:"remove",value:function(e){Object(ce.a)(Object(pe.a)(a.prototype),"remove",this).call(this,e),this.props.party.setState({image:""})}},{key:"validate",value:function(e){if(this.props.maxFileSize&&e.size>this.props.maxFileSize){var t={severity:"error",summary:Object(I.jsx)(j.a,{id:"app.admin.error.file.summary",defaultMessage:this.props.invalidFileSizeMessageSummary,values:{0:e.name}}),detail:Object(I.jsx)(j.a,{id:"app.admin.error.file.detail",defaultMessage:this.props.invalidFileSizeMessageDetail,values:{0:this.formatSize(this.props.maxFileSize)}})};return"advanced"===this.props.mode&&this.messagesUI.show(t),this.props.onValidationFail&&this.props.onValidationFail(e),!1}return!0}},{key:"show",value:function(){if(this.props.party.state.opened){var e=this.props.party.props.party;e&&e.image?this.onFileSelect({target:{files:[q(e)]}}):this.state.files.pop(),this.props.party.setState({opened:!1}),"insert"!==this.props.party.state.operation||this.props.party.state.image||this.state.files.pop()}}},{key:"componentDidMount",value:function(){this.show()}},{key:"componentDidUpdate",value:function(){this.show()}}]),a}(le.a),ue=function(e){return e&&e.name?!(!e||e.name.length>40)||(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.maxname",defaultMessage:"You can specify a maximum length of {number} characters for the name",values:{number:40}})}),!1):(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.party.name",defaultMessage:"The name of the party is mandatory"})}),!1)},fe=function(e,t){return e&&e.name?e&&e.sex?!e||e.name.length>40?(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.maxname",defaultMessage:"You can specify a maximum length of {number} characters for the name",values:{number:40}})}),!1):!e||t.filter((function(t){return t.name.toUpperCase()===e.name.toUpperCase()&&t.id!==e.id})).length>0?(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.candidate.existingname",defaultMessage:"The name of the candidate already exists"})}),!1):!e||e.image&&t.filter((function(t){return t.image===e.image&&t.id!==e.id})).length>0?(s({name:"image",message:Object(I.jsx)(j.a,{id:"app.admin.error.candidate.existingimage",defaultMessage:"The image of the candidate already exists"})}),!1):!(!e||e.name.length<6||!e.name.includes(" "))||(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.candidate.surname",defaultMessage:"Insert name and surname please"})}),!1):(s({name:"sex",message:Object(I.jsx)(j.a,{id:"app.admin.error.candidate.sex",defaultMessage:"The sex of the candidate is mandatory"})}),!1):(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.candidate.name",defaultMessage:"The name of the candidate is mandatory"})}),!1)},me=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),e=t.call(this),s=e.errors.bind(Object(u.a)(e)),e}return Object(d.a)(a,[{key:"errors",value:function(e){var t={severity:"error",summary:Object(I.jsx)(j.a,{id:"app.error",defaultMessage:"Error"}),detail:e.message};this.growl.show(t)}},{key:"render",value:function(){var e=this;return Object(I.jsx)(v.a,{ref:function(t){return e.growl=t}})}}]),a}(r.Component),he=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={partyName:"",partyTitle:"",image:"",operation:"",opened:!1},e.state.configurationHeader=Object(I.jsx)(j.a,{id:"app.configuration.headerparty",defaultMessage:"Configure your Party"}),e.state.configurationGroupHeader=Object(I.jsx)(j.a,{id:"app.configuration.headergroup",defaultMessage:"Configure your Group"}),e.state.configurationInsertPartyHeader=Object(I.jsx)(j.a,{id:"app.configuration.headerinsertparty",defaultMessage:"Insert your Party"}),e.state.configurationInsertGroupHeader=Object(I.jsx)(j.a,{id:"app.configuration.headerinsertgroup",defaultMessage:"Insert your Group"}),e.state.name=Object(I.jsx)(j.a,{id:"app.configuration.name",defaultMessage:"Name"}),e.state.title=Object(I.jsx)(j.a,{id:"app.configuration.title",defaultMessage:"Title"}),e.state.chooseImage=Object(I.jsx)(j.a,{id:"app.configuration.chooseimage",defaultMessage:"Choose Image"}),e.open=e.open.bind(Object(u.a)(e)),e.confirm=e.confirm.bind(Object(u.a)(e)),e.delete=e.delete.bind(Object(u.a)(e)),e.onHide=e.onHide.bind(Object(u.a)(e)),e.onSelect=e.onSelect.bind(Object(u.a)(e)),e}return Object(d.a)(a,[{key:"open",value:function(){this.setState({visible:!0})}},{key:"confirm",value:function(){var e,t={name:this.state.partyName,subtitle:this.state.partyTitle,image:this.state.image};if("update"===this.state.operation)(R(this.props.party)&&ue(t)||U(this.props.party)&&((e=t)&&e.name?e&&!(e.name.length>40)||(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.maxname",defaultMessage:"You can specify a maximum length of {number} characters for the name",values:{number:40}})}),0):(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.group.name",defaultMessage:"The name of the group is mandatory"})}),0)))&&(this.props.party.name=t.name,this.props.party.subtitle=t.subtitle,this.props.party.image=t.image,this.setState({visible:!1}),this.props.votingPaper.forceUpdate());else if(ue(t)){var a=B();t.id=a,this.props.party.name?this.props.party.parties.push(t):this.props.party.votingPaper.groups?(t.parties=[],this.props.party.votingPaper.groups.push(t)):this.props.party.votingPaper.parties.push(t),this.setState({visible:!1}),this.props.votingPaper.forceUpdate()}}},{key:"delete",value:function(){var e=Y(this.props.party);if(R(this.props.party)){var t=e.parties.map((function(e){return e.id})).indexOf(this.props.party.id);e.parties.splice(t,1)}else{var a=e.groups.map((function(e){return e.id})).indexOf(this.props.party.id);e.groups.splice(a,1)}this.setState({visible:!1}),this.props.votingPaper.forceUpdate()}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"onSelect",value:function(e){e.files[0].objectURL&&J(e.files[0].objectURL,this)}},{key:"render",value:function(){var e=this,t="";this.props.party&&"update"===this.state.operation&&(t=Object(I.jsx)(j.a,{id:"app.delete",defaultMessage:"Delete",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.delete,className:"confirm"})}}));var a=Object(I.jsxs)("div",{children:[Object(I.jsx)(j.a,{id:"app.confirm",defaultMessage:"Confirm",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.confirm,className:"confirm"})}}),t,Object(I.jsx)(j.a,{id:"app.cancel",defaultMessage:"Cancel",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-times",onClick:e.onHide,className:"p-button-secondary confirm"})}})]}),i="";i=R(this.props.party)?"update"===this.state.operation?this.state.configurationHeader:this.state.configurationInsertHeader:"update"===this.state.operation?this.state.configurationGroupHeader:this.props.party.name||"little-nogroup"===this.props.party.votingPaper.type?this.state.configurationInsertPartyHeader:this.state.configurationInsertGroupHeader;var n=!1;"insert"!==this.state.operation||this.state.partyName||(n=!0);var s={autoFocus:n},r=Object(I.jsx)(oe.a,Object(h.a)(Object(h.a)({},s),{},{value:this.state.partyName,onChange:function(t){return e.setState({partyName:t.target.value})},onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.confirm()}}));return Object(I.jsxs)(re.a,{contentStyle:{maxHeight:"600px",width:"360px"},header:i,visible:this.state.visible,footer:a,onHide:this.onHide,className:"modal-party",children:[Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.name}),Object(I.jsx)("div",{className:"p-col",children:r})]}),Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.title}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(oe.a,{ref:function(t){e.title=t},value:this.state.partyTitle?this.state.partyTitle:"",onChange:function(t){return e.setState({partyTitle:t.target.value})}})})]}),Object(I.jsx)("div",{className:"p-grid",children:Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(j.a,{id:"app.configuration.chooseimage",defaultMessage:"Choose Image",children:function(t){return Object(I.jsx)(de,{accept:"image/*",maxFileSize:6e4,onSelect:e.onSelect,chooseLabel:t[0],party:e,previewWidth:150})}})})})]})}}]),a}(r.Component),ge=a(61),be=a(47),ve=(a(141),a(1)),je=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"onFileSelect",value:function(e){Object(ce.a)(Object(pe.a)(a.prototype),"onFileSelect",this).call(this,e),this.state.files.length>1&&this.state.files.shift()}},{key:"remove",value:function(e){Object(ce.a)(Object(pe.a)(a.prototype),"remove",this).call(this,e),this.props.party.setState({image:""})}},{key:"renderFile",value:function(e,t){var a=this,i=this.isImage(e)?o.a.createElement("div",null,o.a.createElement("img",{alt:e.name,role:"presentation",src:e.objectURL,width:this.props.previewWidth})):null,n=o.a.createElement("div",{className:"p-fileupload-filename"},e.name),s=o.a.createElement("div",null,this.formatSize(e.size)),r=o.a.createElement("div",null,o.a.createElement(g.a,{type:"button",icon:"pi pi-times",disabled:this.props.disabled,onClick:function(e){return a.remove(e,t)}})),c=o.a.createElement(o.a.Fragment,null,i,n,s,r);if(this.props.itemTemplate){var p={onRemove:function(e){return a.remove(e,t)},previewElement:i,fileNameElement:n,sizeElement:s,removeElement:r,formatSize:this.formatSize(e.size),element:c,props:this.props};c=ve.f.getJSXElement(this.props.itemTemplate,e,p)}return o.a.createElement("div",{className:"p-fileupload-row",key:e.name+e.type+e.size},c)}},{key:"componentDidUpdate",value:function(){if(this.props.party.state.opened){var e=this.props.candidate;e&&e.image?this.onFileSelect({target:{files:[q(e)]}}):this.state.files.pop(),this.props.party.setState({opened:!1}),"insert"!==this.props.party.state.operation||this.props.party.state.image||this.state.files.pop()}}}]),a}(le.a),ye=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={id:"",name:"",sex:"",image:"",candidate:{},candidates:[],generateId:"",opened:!1},i.candidateUpload=Object(r.createRef)(),i.candidatesDialog=Object(r.createRef)(),i.boxCandidates=Object(r.createRef)(),i.nameInputText=Object(r.createRef)(),i.state.configurationHeader=Object(I.jsx)(j.a,{id:"app.configuration.headercandidates",defaultMessage:"Manage candidates"}),i.state.namesurnameLabel=Object(I.jsx)(j.a,{id:"app.configuration.namesurname",defaultMessage:"Name and surname"}),i.state.genderLabel=Object(I.jsx)(j.a,{id:"app.configuration.gender",defaultMessage:"Gender"}),i.state.chooseImage=Object(I.jsx)(j.a,{id:"app.configuration.chooseimage",defaultMessage:"Choose Image"}),i.open=i.open.bind(Object(u.a)(i)),i.confirm=i.confirm.bind(Object(u.a)(i)),i.onHide=i.onHide.bind(Object(u.a)(i)),i.onSelect=i.onSelect.bind(Object(u.a)(i)),i.imgTemplate=i.imgTemplate.bind(Object(u.a)(i)),i}return Object(d.a)(a,[{key:"open",value:function(){var e=this.props.party,t=[];e.candidates&&e.candidates.forEach((function(e){t.push({label:e.name,value:e.id,id:e.id,name:e.name,image:e.image,sex:e.sex})}));var a=M.getRoles().includes("admin"),i=parseInt($e.profile.attributes.block[0],10),n=a||E(_(e.id),i);this.setState({id:"",sex:"",image:"",name:"",candidates:t,visible:!0,partyEnabled:n,isAdmin:a,block:i})}},{key:"confirm",value:function(){this.props.party.candidates=this.state.candidates,this.props.partyComponent.forceUpdate(),this.setState({visible:!1})}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"onSelect",value:function(e){e.files[0].objectURL&&J(e.files[0].objectURL,this)}},{key:"imgTemplate",value:function(e){var t=this.state.candidates.filter((function(t){return t.id===parseInt(e.value,10)}))[0].image;return Object(I.jsxs)("div",{className:"p-clearfix",children:[Object(I.jsx)("img",{alt:e.label,src:"data:image/jpeg;base64,".concat(t),style:{display:"inline-block",margin:"5px 0 0 5px",width:48}}),Object(I.jsx)("span",{style:{fontSize:"1.3em",float:"right",margin:"1em .5em 0 0"},children:e.label})]})}},{key:"render",value:function(){var e=this,t=this.state.candidates.filter((function(t){return t.id===e.state.id}))[0],a=Object(I.jsxs)("div",{children:[Object(I.jsx)(j.a,{id:"app.confirm",defaultMessage:"Confirm",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.confirm,className:"confirm"})}}),Object(I.jsx)(j.a,{id:"app.cancel",defaultMessage:"Cancel",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-times",onClick:e.onHide,className:"p-button-secondary confirm"})}})]}),i=this.state.isAdmin||E(_(this.state.id),this.state.block),n=Object(I.jsx)("div",{className:"p-grid",children:Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(j.a,{id:"app.configuration.chooseimage",defaultMessage:"Choose Image",children:function(a){return Object(I.jsx)(je,{ref:e.candidateUpload,accept:"image/*",maxFileSize:6e4,onSelect:e.onSelect,chooseLabel:a[0],party:e,candidate:t,previewWidth:150,disabled:!i})}})})});return Object(I.jsxs)(re.a,{ref:this.candidatesDialog,contentStyle:{maxHeight:"700px",width:"360px"},header:this.state.configurationHeader,visible:this.state.visible,footer:a,onHide:this.onHide,className:"modal-candidates",children:[Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.namesurnameLabel}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(oe.a,{ref:this.nameInputText,value:this.state.name,disabled:!i,onChange:function(t){e.setState({name:t.target.value})}})})]}),Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.genderLabel}),Object(I.jsxs)("div",{className:"p-col",children:[K,Object(I.jsx)(ge.a,{value:K,name:"sex",onChange:function(t){return e.setState({sex:t.value})},checked:this.state.sex===K,disabled:!i}),X,Object(I.jsx)(ge.a,{value:X,name:"sex",onChange:function(t){return e.setState({sex:t.value})},checked:this.state.sex===X,disabled:!i})]})]}),n,Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("hr",{style:{background:"#fff"}}),Object(I.jsxs)("div",{className:"p-col admin-candidates",children:[Object(I.jsx)(j.a,{id:"app.insert",defaultMessage:"Insert",children:function(t){return Object(I.jsx)(g.a,{disabled:!e.state.partyEnabled,label:t[0],icon:"pi pi-check",onClick:function(){var t={name:e.state.name,sex:e.state.sex,image:e.state.image,label:e.state.name};if(fe(t,e.state.candidates)){var a=e.state.generateId;a||(a=B()),e.setState({generateId:a+1}),t.id=a,t.value=a,e.state.candidates.push(t),e.boxCandidates.forceUpdate()}},className:"confirm"})}}),Object(I.jsx)(j.a,{id:"app.update",defaultMessage:"Update",children:function(t){return Object(I.jsx)(g.a,{disabled:!i,label:t[0],icon:"pi pi-check",onClick:function(){var t={id:e.state.id,name:e.state.name,sex:e.state.sex,image:e.state.image,label:e.state.name};fe(t,e.state.candidates)&&(e.state.candidates.forEach((function(t){t.value===e.state.id&&(t.label=e.state.name,t.id=e.state.id,t.name=e.state.name,t.image=e.state.image,t.sex=e.state.sex)})),e.boxCandidates.current.forceUpdate())},className:"confirm"})}}),Object(I.jsx)(j.a,{id:"app.delete",defaultMessage:"Delete",children:function(t){return Object(I.jsx)(g.a,{disabled:!e.state.partyEnabled,label:t[0],icon:"pi pi-check",onClick:function(){var t=e.state.candidates.map((function(e){return e.id})).indexOf(e.state.id);e.state.candidates.splice(t,1),e.setState({id:"",name:"",image:"",sex:""}),e.candidateUpload.current.state.files.pop(),e.candidatesDialog.current.forceUpdate()},className:"confirm"})}})]})]}),Object(I.jsx)("div",{className:"p-grid",children:Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(be.a,{ref:this.boxCandidates,value:this.state.id,filter:!0,options:this.state.candidates,onChange:function(t){var a=e.state.candidates.filter((function(e){return e.id===parseInt(t.value,10)}))[0];t.value?e.setState({id:t.value,name:a.name,sex:a.sex,image:a.image,opened:!0}):e.setState({id:"",name:"",sex:"",image:"",opened:!0})},itemTemplate:this.imgTemplate,style:{width:"21em"},listStyle:{maxHeight:"250px"}})})})]})}}]),a}(r.Component),xe=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i.modalInsertParty=o.a.createRef(),i.modalParty=o.a.createRef(),i.modalCandidates=o.a.createRef(),i}return Object(d.a)(a,[{key:"render",value:function(){var e=this;if("PREPARE"===$e.state){var t={color:"#"+this.props.party.votingPaper.color},a="",i="",n="",s=M.getRoles().includes("admin"),r=parseInt($e.profile.attributes.block[0],10),o=s||E(this.props.party,r),c=s||z(this.props.party,r),p=U(this.props.party);if(o){if(p||!this.props.party.name){var l="";this.props.party.name||(l=" voting-paper-admin"),a=Object(I.jsx)(g.a,{icon:"pi pi-plus",className:"admin-button"+l,style:t,onClick:function(t){t.stopPropagation(),e.modalInsertParty.current.setState({partyName:"",partyTitle:"",image:"",operation:"insert",opened:!0}),e.modalInsertParty.current.open()}})}this.props.party.name&&(i=Object(I.jsx)(g.a,{icon:"pi pi-briefcase",className:"admin-button",style:t,onClick:function(t){t.stopPropagation(),e.modalParty.current.setState({partyName:e.props.party.name,partyTitle:e.props.party.subtitle,image:e.props.party.image,operation:"update",opened:!0}),e.modalParty.current.open()}}))}return(o||c)&&this.props.party.name&&!p&&this.props.party.votingPaper.maxCandidates&&this.props.party.votingPaper.maxCandidates>0&&(n=Object(I.jsx)(g.a,{icon:"pi pi-users",className:"admin-button",style:t,onClick:function(t){t.stopPropagation(),e.modalCandidates.current.setState({operation:"update",opened:!0}),e.modalCandidates.current.open()}})),Object(I.jsxs)("div",{className:"admin-buttons",children:[Object(I.jsx)(he,{ref:this.modalParty,party:this.props.party,votingPaper:this.props.votingPaper}),Object(I.jsx)(he,{ref:this.modalInsertParty,party:this.props.party,votingPaper:this.props.votingPaper}),Object(I.jsx)(ye,{ref:this.modalCandidates,partyComponent:this.props.partyComponent,party:this.props.party,votingPaper:this.props.votingPaper}),i,a,n]})}return""}}]),a}(r.Component),Oe=a.p+"static/media/x.ab498103.png",ke=(a(142),a(93)),Ce="group",Pe="party",Se=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).adminButtons=o.a.createRef(),i}return Object(d.a)(a,[{key:"putX",value:function(e){if((!this.adminButtons.current.modalParty.current&&!this.adminButtons.current.modalInsertParty.current&&!this.adminButtons.current.modalCandidates.current||!this.adminButtons.current.modalParty.current.state.visible&&!this.adminButtons.current.modalInsertParty.current.state.visible&&!this.adminButtons.current.modalCandidates.current.state.visible)&&(e.value=this.props.party,!e.target.classList.contains("excludeSelect")&&Z(e))){e.value.selected?V(e.value,Q):A(e.value,Q);var t=this.props.party.name;this.props.party.subtitle&&(t=t+" "+this.props.party.subtitle),this.selectedItem?(this.selectedItem=null,e.value.selected=!1):(this.selectedItem=Object(I.jsx)("img",{className:"button-selected",alt:t,src:Oe}),e.value.selected=!0),this.forceUpdate()}}},{key:"renderIcon",value:function(){if(this.props.icon){var e=se()(this.props.icon,"p-c",{"p-button-icon-left":"right"!==this.props.iconPos,"p-button-icon-right":"right"===this.props.iconPos}),t=this.props.party.name;return this.props.party.subtitle&&(t=t+" "+this.props.party.subtitle),Object(I.jsxs)("span",{className:e,children:[this.props.party.image&&Object(I.jsx)("img",{alt:t,src:"data:image/jpeg;base64,".concat(this.props.party.image)}),this.selectedItem]})}return this.selectedItem}},{key:"renderLabel",value:function(){if(0===this.props.votingpaper.props.config.maxCandidates||this.props.party.name&&(!this.props.party.candidates||0===this.props.party.candidates.length)){var e=this.props.party.name||"p-btn",t="";return"undefined"!==this.props.party.subtitle&&(t=this.props.party.subtitle),Object(I.jsxs)("span",{className:"p-button-text p-c",children:[e,Object(I.jsx)("span",{className:"p-button-subtext p-c",children:t})]})}}},{key:"renderCandidates",value:function(){if(this.props.party.candidates)return Object(I.jsx)(ie,{config:this.props.party.candidates,maxcandidates:T(this.props.party).maxCandidates})}},{key:"render",value:function(){var e=this;this.props.party.type=U(this.props.party)?Ce:Pe,this.props.party.votingPaper=T(this.props.party);var t=se()("p-button p-component",this.props.className,{"p-button-icon-only":this.props.icon&&!this.props.party.name&&!this.props.party.candidates,"p-button-text-icon-left":this.props.icon&&(this.props.party.name||this.props.party.candidates)&&"left"===this.props.iconPos,"p-button-text-icon-right":this.props.icon&&(this.props.party.name||this.props.party.candidates)&&"right"===this.props.iconPos,"p-button-text-only":!this.props.icon&&(this.props.party.name||this.props.party.candidates),"p-disabled":this.props.disabled}),a=this.renderIcon(),i=this.renderLabel(),n=this.renderBadge(),s=this.renderCandidates(),r=ke.a.findDiffKeys(this.props,g.b.defaultProps);return Object(I.jsxs)("div",Object(h.a)(Object(h.a)({ref:function(t){return e.element=t}},r),{},{className:t,children:[Object(I.jsx)(xe,{party:this.props.party,partyComponent:this,votingPaper:this.props.votingpaper,ref:this.adminButtons}),"left"===this.props.iconPos&&a,i,s,"right"===this.props.iconPos&&a,this.props.children,n]}))}}]),a}(g.b),Ne=(a(143),a(144),a(145),a(146),function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).jsonData=e,i}return Object(d.a)(a,[{key:"renderPartiesByGroup",value:function(e){var t=this;return e.parties.map((function(a){return t.renderParty(e,a)}))}},{key:"renderParties",value:function(e){var t=this;if(e)return e.map((function(e){return t.renderParty({id:0},e)}))}},{key:"renderParty",value:function(e,t){var a=this,i=Object.assign({});return i.key="party-"+e.id+"-"+t.id,i.icon="pi",i.className="p-button-secondary second-row",i.party=t,i.ref=i.key,i.id=i.key,i.forwardRef="",i.votingpaper=this,Object(I.jsx)(Se,Object(h.a)(Object(h.a)({},i),{},{onClick:function(e){a.refs[i.ref].putX(e)}}))}},{key:"renderGroup",value:function(e){var t=this;if(e.name){var a,i={gridRow:"1 / "+(e.parties.length+1)},n="";e.parties.length>1&&(n="is-grid"),e.image&&(a="pi");var s=Object.assign({});return s.key="group-"+e.id,s.icon=a,s.party=e,s.className="p-button-secondary first-row "+n,s.style=i,s.ref=s.key,s.id=s.key,s.forwardRef="",s.votingpaper=this,Object(I.jsx)(Se,Object(h.a)(Object(h.a)({},s),{},{onClick:function(e){t.refs[s.ref].putX(e)}}))}}},{key:"render",value:function(){var e=this;return this.props.visible?this.jsonData.config.groups?Object(I.jsxs)("div",{className:"page",children:[this.jsonData.config.groups.map((function(t,a){var i,n;return i=e.renderPartiesByGroup(t),n=e.renderGroup(t),Object(I.jsxs)("div",{className:"content-party resize-"+a%2,children:[n,i]},"parties-"+a)})),Object(I.jsx)(xe,{party:{votingPaper:this.props.config},votingPaper:this,ref:"vt-admin-buttons"})]}):Object(I.jsxs)("div",{className:"page",children:[Object(I.jsx)("div",{className:"content-party resize-0",children:this.renderParties(this.jsonData.config.parties)},"parties-0"),Object(I.jsx)(xe,{party:{votingPaper:this.props.config},votingPaper:this,ref:"vt-admin-buttons"})]}):Object(I.jsx)("div",{className:"page"})}}]),a}(r.Component)),we=(a(147),a(103)),Me=a(62),Ie="ascending",Ee=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i.state.confirmHeader=Object(I.jsx)(j.a,{id:"app.confirm.header",defaultMessage:"Confirm your vote"}),i.state.confirmBody=Object(I.jsx)(j.a,{id:"app.confirm.body",defaultMessage:"By clicking on (Yes) you will confirm the sending of the data. Once confirmed you will not be able to go back. Confirm the rescue?"}),i.open=i.open.bind(Object(u.a)(i)),i.errors=i.errors.bind(Object(u.a)(i)),i.confirm=i.confirm.bind(Object(u.a)(i)),i.onHide=i.onHide.bind(Object(u.a)(i)),i.show=i.show.bind(Object(u.a)(i)),i}return Object(d.a)(a,[{key:"open",value:function(){this.setState({visible:!0})}},{key:"errors",value:function(e){var t=Object(I.jsx)(j.a,{id:"app.error",defaultMessage:"Error"});this.props.window.refs.validator.growl.show({severity:"error",summary:t,detail:e.message})}},{key:"createVote",value:function(){var e={votingPapers:[]};return $e.votingPapers.forEach((function(t){return e.votingPapers.push({id:t.id})})),Q.forEach((function(t){for(var a=t.votingPaper,i={},n=0;n<e.votingPapers.length;n++)e.votingPapers[n].id===a.id&&(i=e.votingPapers[n]);i.id||0===i.id||(i.id=a.id,e.votingPapers.push(i)),t.type===Ce?i.group={id:t.id}:t.type===Pe?i.party={id:t.id}:t.type===ae&&(i.party.candidates||(i.party.candidates=[]),i.party.candidates.push({id:t.id}))})),e}},{key:"confirm",value:function(){var e=this;M.updateToken().then((function(){M.axiosInstance.defaults.headers.common.Authorization="Bearer "+M.getToken(),e.doConfirm()}))}},{key:"doConfirm",value:function(){var e=this,t=p.a.findDOMNode(this).querySelectorAll(".pi-check")[0];t.className="pi pi-spin pi-spinner p-c p-button-icon-left",M.axiosInstance.post("http://vota-voting.vige.it:8080/vote",this.createVote()).then((function(a){return t.className="pi pi-check p-c p-button-icon-left",e.setState({visible:!1}),e.props.window.setState({visible:!1}),a})).catch((function(a){t.className="pi pi-check p-c p-button-icon-left",e.errors(a),console.log(a)}))}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"show",value:function(){var e=p.a.findDOMNode(this);if(e){var t=e.getElementsByClassName("p-rowgroup-header");$e.votingPapers.forEach((function(e){for(var a=0;a<t.length;a++)t[a]&&t[a].innerHTML.indexOf('id="'+e.id)>=0&&(t[a].style.setProperty("background-color","#"+e.color),t[a].style.setProperty("border-color","#"+e.color))}))}}},{key:"headerTemplate",value:function(e){return Object(I.jsx)("span",{className:"voting-paper-field",id:e.votingPaper.id,children:e.votingPaper.name})}},{key:"footerTemplate",value:function(e){return[Object(I.jsx)("td",{colSpan:"2"},e.votingPaper.name+"_footerTotalLabel")]}},{key:"sortByElement",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie,i=e.votingPaper.id-t.votingPaper.id+e.type.toLowerCase().localeCompare(t.type.toLowerCase());return a===Ie?i:-1*i}},{key:"sort",value:function(e){var t=this;return e.sort((function(e,a){return t.sortByElement(e,a,"descending")}))}},{key:"render",value:function(){var e=this,t=Object(I.jsxs)("div",{children:[Object(I.jsx)(j.a,{id:"app.yes",defaultMessage:"Yes",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.confirm,className:"confirm"})}}),Object(I.jsx)(j.a,{id:"app.no",defaultMessage:"No",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-times",onClick:e.onHide,className:"p-button-secondary confirm"})}})]});return Object(I.jsxs)(re.a,{contentStyle:{maxHeight:"500px"},header:this.state.confirmHeader,visible:this.state.visible,footer:t,onHide:this.onHide,onShow:this.show,children:[this.state.confirmBody,Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(j.a,{id:"app.confirm.norecordsfound",defaultMessage:"Empty selection",children:function(t){return Object(I.jsxs)(we.a,{value:e.sort(Q),rowGroupMode:"subheader",sortField:"votingPaper",sortOrder:1,groupField:"votingPaper",rowGroupHeaderTemplate:e.headerTemplate,rowGroupFooterTemplate:e.footerTemplate,emptyMessage:t[0],children:[Object(I.jsx)(Me.a,{field:"type",body:function(e){return Object(I.jsx)("b",{children:Object(I.jsx)(j.a,{id:"app.confirm."+e.type,defaultMessage:e.type})})}}),Object(I.jsx)(Me.a,{field:"name"})]})}})]})}}]),a}(r.Component),ze=a(94),Te=a.n(ze),_e=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i.state.confirmHeader=Object(I.jsx)(j.a,{id:"app.confirm.ins.header",defaultMessage:"Confirm your update"}),i.state.confirmBody=Object(I.jsx)(j.a,{id:"app.confirm.ins.body",defaultMessage:"By clicking on (Yes) you will confirm the sending of the data. Confirm the rescue?"}),i.open=i.open.bind(Object(u.a)(i)),i.errors=i.errors.bind(Object(u.a)(i)),i.confirm=i.confirm.bind(Object(u.a)(i)),i.onHide=i.onHide.bind(Object(u.a)(i)),i}return Object(d.a)(a,[{key:"open",value:function(){this.setState({visible:!0})}},{key:"errors",value:function(e){this.props.window.refs.ruler.errors({message:e.message})}},{key:"doConfirm",value:function(){var e=this,t=JSON.parse(Te()($e)),a=p.a.findDOMNode(this).querySelectorAll(".pi-check")[0];a.className="pi pi-spin pi-spinner p-c p-button-icon-left",M.axiosInstance.post("http://vota-votingpapers.vige.it:8180/votingPapers",t).then((function(t){return a.className="pi pi-check p-c p-button-icon-left",e.setState({visible:!1}),t})).catch((function(t){e.errors(t),a.className="pi pi-check p-c p-button-icon-left",console.log(t)}))}},{key:"confirm",value:function(){var e=this;M.updateToken().then((function(){M.axiosInstance.defaults.headers.common.Authorization="Bearer "+M.getToken(),e.doConfirm()}))}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"headerTemplate",value:function(e){return Object(I.jsx)("span",{className:"voting-paper-field",id:e.votingPaper.id,children:e.votingPaper.name})}},{key:"footerTemplate",value:function(e){return[Object(I.jsx)("td",{colSpan:"2"},e.votingPaper.name+"_footerTotalLabel")]}},{key:"render",value:function(){var e=this,t=Object(I.jsxs)("div",{children:[Object(I.jsx)(j.a,{id:"app.yes",defaultMessage:"Yes",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.confirm,className:"confirm"})}}),Object(I.jsx)(j.a,{id:"app.no",defaultMessage:"No",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-times",onClick:e.onHide,className:"p-button-secondary confirm"})}})]});return Object(I.jsxs)(re.a,{contentStyle:{maxHeight:"500px"},header:this.state.confirmHeader,visible:this.state.visible,footer:t,onHide:this.onHide,children:[this.state.confirmBody,Object(I.jsx)("br",{}),Object(I.jsx)("br",{})]})}}]),a}(r.Component),He=a(95),Re=a(48),Ue=a(96),Le=(a(148),a(104)),Ae=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"getTreeZones",value:function(){return k.a.get("http://cities-generator-service.vige.it:8380/cities")}},{key:"convert",value:function(e){var t=this;return e.map((function(e){return{key:e.id,data:e.id,label:e.name,icon:"pi pi-fw pi-cog",children:t.convert(e.zones)}}))}}]),e}(),De=[{label:"Bigger",value:"bigger"},{label:"Bigger party groups",value:"bigger-partygroup"},{label:"Little",value:"little"},{label:"Little no groups",value:"little-nogroup"}],Be=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={votingPaper:"",app:"",operation:"",disjointed:!1,maxCandidates:0,zone:-1,color:"",type:"",zones:null},e.zone=o.a.createRef(),e.zoneSelect=o.a.createRef(),e.state.configurationHeader=Object(I.jsx)(j.a,{id:"app.configuration.header",defaultMessage:"Configure your Voting Paper"}),e.state.configurationInsertHeader=Object(I.jsx)(j.a,{id:"app.configuration.insert.header",defaultMessage:"Add your Voting Paper"}),e.state.name=Object(I.jsx)(j.a,{id:"app.configuration.name",defaultMessage:"Name"}),e.state.disjointedLabel=Object(I.jsx)(j.a,{id:"app.configuration.disjointed",defaultMessage:"Disjointed vote"}),e.state.maxCandidatesLabel=Object(I.jsx)(j.a,{id:"app.configuration.maxcandidates",defaultMessage:"Candidates number"}),e.state.zoneLabel=Object(I.jsx)(j.a,{id:"app.configuration.zone",defaultMessage:"Zone"}),e.state.templatesLabel=Object(I.jsx)(j.a,{id:"app.configuration.templateslabel",defaultMessage:"Template Type"}),e.state.colorLabel=Object(I.jsx)(j.a,{id:"app.configuration.color",defaultMessage:"Voting Paper color"}),e.open=e.open.bind(Object(u.a)(e)),e.confirm=e.confirm.bind(Object(u.a)(e)),e.delete=e.delete.bind(Object(u.a)(e)),e.onHide=e.onHide.bind(Object(u.a)(e)),e.zoneService=new Ae,e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.zoneService.getTreeZones().then((function(t){e.setState({zones:e.zoneService.convert(t.data.zones)})}))}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.app&&this.state.operation.startsWith("confirmed")){var t=G(this.state.app);if(this.setState({operation:""}),"confirmed_insert"===this.state.operation)t[t.length-3].click();else if("confirmed_update"===this.state.operation&&this.state.app.state.activeItem.id===this.state.votingPaper.value.id){var a=0;t.forEach((function(t,i){t.className.indexOf("-"+e.state.app.state.activeItem.id)>=0&&(a=i)})),t[a].click()}}}},{key:"open",value:function(){this.setState({visible:!0})}},{key:"confirm",value:function(){var e=this;if(function(e,t){var a=e.votingPaper.value;return a&&a.label?!a||a.label.length>50?(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.maxname",defaultMessage:"You can specify a maximum length of {number} characters for the name",values:{number:50}})}),!1):a&&("bigger"!==e.type&&"bigger-partygroup"!==e.type||-1!==e.zone)?!a||t.filter((function(e){return e.name.toUpperCase()===a.label.toUpperCase()&&e.id!==a.id})).length>0?(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.existingname",defaultMessage:"The name of the voting paper already exists"})}),!1):!(!a||t.filter((function(t){return("little-nogroup"===e.type&&"little-nogroup"!==t.type||"little-nogroup"!==e.type&&"little-nogroup"===t.type)&&t.id===a.id})).length>0)||(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.littlenogroup",defaultMessage:"You cannot pass from a party voting paper to a group voting paper. Remove and create again the voting paper"})}),!1):(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.zonebigger",defaultMessage:"The voting paper must have the zone"})}),!1):(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.name",defaultMessage:"The name of the voting paper is mandatory"})}),!1)}(this.state,$e.votingPapers)){if("update"===this.state.operation)$e.votingPapers.forEach((function(t){t.id===e.state.votingPaper.value.id&&(t.name=e.state.votingPaper.value.label,t.disjointed=e.state.disjointed,t.maxCandidates=e.state.maxCandidates,"little-nogroup"===e.state.type||"little"===e.state.type?t.zone=-1:t.zone=e.state.zone,t.color=e.state.color,t.type=e.state.type)})),this.state.app.state.items.forEach((function(t){t.id===e.state.votingPaper.value.id&&(t.label=e.state.votingPaper.value.label)})),this.setState({visible:!1,operation:"confirmed_update"});else{var t,a,i=B(),n=this.state.zone;"little-nogroup"===this.state.type?a=[]:t=[],"little-nogroup"!==this.state.type&&"little"!==this.state.type||(n=-1),$e.votingPapers.push({id:i,name:this.state.votingPaper.value.label,groups:t,parties:a,disjointed:this.state.disjointed,maxCandidates:this.state.maxCandidates,zone:n,color:this.state.color,type:this.state.type});var r=this.state.app.state.items.length-2;this.state.app.setState({items:D({id:i,label:this.state.votingPaper.value.label,icon:"pi pi-fw pi-briefcase"},r,this.state.app.state.items)}),this.setState({visible:!1,operation:"confirmed_insert"})}this.state.app.forceUpdate()}}},{key:"delete",value:function(){W(this.state.votingPaper.value,this.state.app),this.setState({visible:!1,operation:"confirmed_delete"})}},{key:"onHide",value:function(){this.setState({visible:!1})}},{key:"imgTemplate",value:function(e){var t="./template_images/"+e.value+".png";return Object(I.jsxs)("div",{className:"p-clearfix",children:[Object(I.jsx)("img",{alt:e.label,src:t,style:{display:"inline-block",margin:"5px 0 0 5px",width:48}}),Object(I.jsx)("span",{style:{fontSize:"1em",float:"right",margin:"1em .5em 0 0"},children:e.label})]})}},{key:"render",value:function(){var e=this,t=this.state.votingPaper.value,a="",i="p-grid";t&&"update"===this.state.operation&&(a=Object(I.jsx)(j.a,{id:"app.delete",defaultMessage:"Delete",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.delete,className:"confirm"})}})),"little-nogroup"!==this.state.type&&"little"!==this.state.type||(i="p-grid disabled");var n=Object(I.jsxs)("div",{className:i,ref:this.zone,children:[Object(I.jsx)("div",{className:"p-col",children:this.state.zoneLabel}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(j.a,{id:"app.configuration.choose.zone",defaultMessage:"Choose zone",children:function(t){return Object(I.jsx)(Le.a,{ref:e.zoneSelect,value:e.state.zone,options:e.state.zones,onChange:function(t){e.setState({zone:t.value})},filter:!0,placeholder:t[0]})}})})]}),r=Object(I.jsxs)("div",{children:[Object(I.jsx)(j.a,{id:"app.confirm",defaultMessage:"Confirm",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-check",onClick:e.confirm,className:"confirm"})}}),a,Object(I.jsx)(j.a,{id:"app.cancel",defaultMessage:"Cancel",children:function(t){return Object(I.jsx)(g.a,{label:t[0],icon:"pi pi-times",onClick:e.onHide,className:"p-button-secondary confirm"})}})]}),o=this.state.configurationInsertHeader;"update"===this.state.operation&&(o=this.state.configurationHeader);var c=!1;"insert"!==this.state.operation||this.state.votingPaper.value||(c=!0);var p={autoFocus:c},l=Object(I.jsx)(oe.a,Object(h.a)(Object(h.a)({},p),{},{value:t?t.label:"",onChange:function(a){return e.setState({votingPaper:{value:{label:a.target.value,id:t?t.id:"",icon:"pi pi-fw pi-briefcase"}}})},onKeyPress:function(t){"Enter"===t.nativeEvent.key&&e.confirm()}}));return Object(I.jsxs)(re.a,{contentStyle:{maxHeight:"620px",width:"360px"},header:o,visible:this.state.visible,footer:r,onHide:this.onHide,className:"modal-voting-paper",children:[Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.name}),Object(I.jsx)("div",{className:"p-col",children:l})]}),Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.disjointedLabel}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(He.a,{onChange:function(a){var i;(i=t)&&Q.filter((function(e){return e.votingPaper.id===i.id})).length>0&&(s({name:"name",message:Object(I.jsx)(j.a,{id:"app.admin.error.disjointed",defaultMessage:"You must deselect all votes of the voting paper before to change the disjointed vote '{name}'",values:{name:i.label}})}),1)||e.setState({disjointed:a.checked})},checked:this.state.disjointed})})]}),Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.maxCandidatesLabel}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(Re.a,{showButtons:!0,onValueChange:function(t){return e.setState({maxCandidates:Number.isInteger(t.value)?parseInt(t.value,10):0})},value:this.state.maxCandidates,min:0,max:3})})]}),n,Object(I.jsxs)("div",{className:"p-grid",children:[Object(I.jsx)("div",{className:"p-col",children:this.state.colorLabel}),Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(Ue.a,{value:this.state.color,onChange:function(t){return e.setState({color:t.value})}})})]}),Object(I.jsx)("div",{className:"p-grid",children:Object(I.jsx)("div",{className:"p-col",children:this.state.templatesLabel})}),Object(I.jsx)("div",{className:"p-grid",children:Object(I.jsx)("div",{className:"p-col",children:Object(I.jsx)(be.a,{value:this.state.type,filter:!0,options:De,onChange:function(t){t.value&&(e.setState({type:t.value}),"little-nogroup"===t.value||"little"===t.value?e.zone.current.className="p-grid disabled":e.zone.current.className="p-grid")},itemTemplate:this.imgTemplate,style:{width:"20.5em"},listStyle:{maxHeight:"250px"}})})})]})}}]),a}(r.Component),Fe=a(97),Ge=(a(149),a.p+"static/media/background.84445977.png"),We=a(98),Ve=a(99),Ye=a.n(Ve),Je=a(100),qe=a.n(Je),Ke=a(63),Xe=a.n(Ke),Ze=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e))._initStompClient=function(){i.client=qe.a.over(new Ye.a(i.props.url,null,i.props.options)),i.client.heartbeat.outgoing=i.props.heartbeat,i.client.heartbeat.incoming=i.props.heartbeat,Object.keys(i.props).includes("heartbeatIncoming")&&(i.client.heartbeat.incoming=i.props.heartbeatIncoming),Object.keys(i.props).includes("heartbeatOutgoing")&&(i.client.heartbeat.outgoing=i.props.heartbeatOutgoing),i.props.debug||(i.client.debug=function(){})},i._cleanUp=function(){i.setState({connected:!1}),i.retryCount=0,i.subscriptions.clear()},i._log=function(e){i.props.debug&&console.log(e)},i._subscribe=function(e){if(!i.subscriptions.has(e)){var t=i.client.subscribe(e,(function(e){i.props.onMessage(i._processMessage(e.body),e.headers.destination)}),i.props.subscribeHeaders);i.subscriptions.set(e,t)}},i._processMessage=function(e){try{return JSON.parse(e)}catch(t){return e}},i._unsubscribe=function(e){i.subscriptions.get(e).unsubscribe(),i.subscriptions.delete(e)},i._connect=function(){i._initStompClient(),i.client.connect(i.props.headers,(function(){i.setState({connected:!0}),i.props.topics.forEach((function(e){i._subscribe(e)})),i.props.onConnect()}),(function(e){e&&(Object.keys(i.props).includes("onConnectFailure")?i.props.onConnectFailure(e):i._log(e.stack)),i.state.connected&&(i._cleanUp(),i.props.onDisconnect()),i.props.autoReconnect&&!i.state.explicitDisconnect&&(i._timeoutId=setTimeout(i._connect,i.props.getRetryInterval(i.retryCount++)))}))},i.connect=function(){i.setState({explicitDisconnect:!1}),i.state.connected||i._connect()},i.disconnect=function(){i._timeoutId&&(clearTimeout(i._timeoutId),i._timeoutId=null),i.setState({explicitDisconnect:!0}),i.state.connected&&(i.subscriptions.forEach((function(e){i._unsubscribe(e)})),i.client.disconnect((function(){i._cleanUp(),i.props.onDisconnect(),i._log("Stomp client is successfully disconnected!")})))},i.sendMessage=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.state.connected)throw new Error("Send error: SockJsClient is disconnected");i.client.send(e,a,t)},i.state={connected:!1,explicitDisconnect:!1},i.subscriptions=new Map,i.retryCount=0,i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this._connect()}},{key:"componentWillUnmount",value:function(){this.disconnect()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.state.connected&&(Xe.a.difference(e.topics,this.props.topics).forEach((function(e){t._log("Subscribing to topic: "+e),t._subscribe(e)})),Xe.a.difference(this.props.topics,e.topics).forEach((function(e){t._log("Unsubscribing from topic: "+e),t._unsubscribe(e)})))}},{key:"render",value:function(){return null}}]),a}(r.Component);Ze.defaultProps={onConnect:function(){},onDisconnect:function(){},getRetryInterval:function(e){return 1e3*e},options:{},headers:{},subscribeHeaders:{},autoReconnect:!0,debug:!1,heartbeat:1e4};var $e,Qe,et=Ze,tt=a(101),at=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={items:[],visible:!0},Qe=Object(u.a)(e),e.modalVotingPaper=o.a.createRef(),e.confirm=o.a.createRef(),M.getProfile().then((function(e){M.axiosInstance.get("http://vota-votingpapers.vige.it:8180/votingPapers").then((function(t){($e=t.data).profile=e,function(e){var t={};$e.votingPapers&&$e.votingPapers[0]&&(t={id:$e.votingPapers[0].id,label:$e.votingPapers[0].name}),e.setState({activeItem:t}),$e.votingPapers.map((function(t){return"PREPARE"!==$e.state||!M.getRoles().includes("admin")&&parseInt($e.profile.attributes.block[0],10)!==t.id?e.state.items.push({id:t.id,label:t.name}):e.state.items.push({id:t.id,label:t.name,icon:"pi pi-fw pi-briefcase"})})),e.setState({confirmButtonLabel:Object(I.jsx)(j.a,{id:"app.confirm",defaultMessage:"Confirm"})}),"PREPARE"===$e.state&&M.getRoles().includes("admin")&&e.state.items.push({label:"+"}),($e.votingPapers.length>0||"PREPARE"===$e.state)&&e.state.items.push({label:e.state.confirmButtonLabel});var a=G(e);a&&a[0]&&a[0].click()}(Qe)})).catch((function(e){console.log(e)}))})).catch((function(){console.log("Failed to load user profile")})),e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){"websocket"===this.state.operation&&(G(this),this.setState({operation:void 0}))}},{key:"render",value:function(){var e=this,t=Object(I.jsx)(Ee,{ref:this.confirm,window:this}),a="",i="",n=Object(I.jsx)(et,{url:"http://vota-votingpapers.vige.it:8180/votingpaper-websocket",topics:["/topic/votingpaper"],onMessage:function(t){if(t.state!==$e.state)window.location.reload();else{if(M.getProfile().then((function(e){$e.profile=e})).catch((function(){console.log("Failed to load user profile")})),t.votingPapers=t.votingPapers.filter((function(e){return function(e,t){return"PREPARE"===t.state?M.getRoles().includes("admin")||""!==H(parseInt($e.profile.attributes.block[0],10),e):-1===e.zone||$e.profile.attributes.zones.includes(e.zone.toString())}(e,t)})),t.state===$e.state){t.votingPapers.forEach((function(t,a){var i=e.state.items[a];if(0===e.state.items.filter((function(e){return e.id===t.id})).length){$e.votingPapers.push(t);var n=e.state.items.length-2;e.setState({items:D({id:t.id,label:t.name,icon:"pi pi-fw pi-briefcase"},n,e.state.items)})}else if(i.id===t.id){i&&(i.label=t.name);var s=$e.votingPapers[a];s&&(s.type=t.type,s.disjointed=t.disjointed,s.color=t.color,s.maxCandidates=t.maxCandidates,s.zone=t.zone,s.name=t.name,function(e,t){var a=e.groups,i=t.groups;a&&i&&a.forEach((function(e){i.forEach((function(t){if(e.id===t.id){e.selected=t.selected;var a=e.parties,i=t.parties;a&&i&&a.forEach((function(e){i.forEach((function(t){if(e.id===t.id){e.selected=t.selected;var a=e.candidates,i=e.currentCandidates;a&&i&&a.forEach((function(e){i.forEach((function(t){e.id===t.id&&(e.selected=t.selected)}))}))}}))}))}}))}));var n=e.parties,s=t.parties;n&&s&&n.forEach((function(e){s.forEach((function(t){if(e.id===t.id){e.selected=t.selected;var a=e.candidates,i=e.currentCandidates;a&&i&&a.forEach((function(e){i.forEach((function(t){e.id===t.id&&(e.selected=t.selected)}))}))}}))}))}(t,s),s.groups=t.groups,s.parties=t.parties)}})),$e.votingPapers.filter((function(e){return-1===t.votingPapers.map((function(e){return e.id})).indexOf(e.id)})).forEach((function(t){return W(t,e)}));var a=F(e),i=e.state.items.map((function(e){return e.id})).indexOf(e.state.activeItem.id);i>=0&&a[i].click()}$e.state=t.state,e.setState({operation:"websocket"})}}});return $e&&"PREPARE"===$e.state&&(t=Object(I.jsx)(_e,{ref:this.confirm,window:this}),a=Object(I.jsx)(Be,{ref:this.modalVotingPaper}),i=Object(I.jsx)(me,{ref:"ruler"})),$e?Object(I.jsxs)("div",{className:"App",children:[n,Object(I.jsxs)("div",{className:"content-section implementation",children:[Object(I.jsx)(ee,{ref:"validator"}),i,Object(I.jsx)(Fe.a,{ref:"tabMenu",className:this.state.visible?"":"disabled",model:this.state.items,activeItem:this.state.activeItem,onTabChange:function(t){if("PREPARE"===$e.state&&t.originalEvent.target.className.startsWith("p-menuitem-icon")){var a=function(e){if(e){var t="";return $e.votingPapers.forEach((function(a){a.id===e.id&&(t=a)})),t}return""}(t.value);e.modalVotingPaper.current.setState({votingPaper:t,app:e,operation:"update",disjointed:a.disjointed,maxCandidates:a.maxCandidates,zone:a.zone,color:a.color,type:a.type}),e.modalVotingPaper.current.open()}else e.state.visible&&(t.value.label===e.state.confirmButtonLabel?e.confirm.current.open():"+"===t.value.label?(e.modalVotingPaper.current.setState({votingPaper:"",app:e,operation:"insert",disjointed:!1,maxCandidates:0,zone:0,color:"1976D2",type:"bigger"}),e.modalVotingPaper.current.open()):e.setState({activeItem:t.value}))}}),a,t]}),$e&&$e.votingPapers.map((function(t){var a=Object(I.jsx)(j.a,{id:"app.confirm.confirmedheader",defaultMessage:"Your vote was sent!"}),i=Object(I.jsx)(j.a,{id:"app.confirm.confirmedbody",defaultMessage:"Your vote has been sent successfully. The results will be shown shortly. We thank you for your participation"});return Object(I.jsxs)("header",{className:"App-header "+t.type,ref:"header-"+t.id,style:t.name!==e.state.activeItem.label?{display:"none"}:{backgroundImage:"url(".concat(Ge,")"),backgroundColor:"#"+t.color,borderColor:"#"+t.color},children:[Object(I.jsx)(Ne,{config:t,visible:e.state.visible,ref:"votingpaper-"+t.id}),Object(I.jsx)(We.a,{header:a,style:e.state.visible?{display:"none"}:{},children:i})]},"header-"+t.id)}))]}):Object(I.jsx)(tt.a,{})}}]),a}(r.Component),it=(a(183),a(184),a(185),a(186),a(191)),nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function st(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rt={it:a(102)},ot=navigator.language.split(/[-_]/)[0];M.initKeycloak((function(){return p.a.render(Object(I.jsx)(it.a,{locale:ot,messages:rt[ot],children:Object(I.jsx)(at,{})}),document.getElementById("root"))})),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");nt?(!function(e,t){fetch(e).then((function(a){var i=a.headers.get("content-type");404===a.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):st(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):st(t,e)}))}}()}},[[187,1,2]]]);
//# sourceMappingURL=main.8fc03a22.chunk.js.map